function e(e){return(i,s,...n)=>{const r=new Set(n),t=new Map,a=e.bindReceive((i=>{var n;if("string"!=typeof i)return;const a=i.indexOf(";"),l=a&&i.substring(0,a);if(!l)return;r.has(l)&&e.send(i);const o=t.get(l);if(null==o?void 0:o.length){const e=null==(n=s[l])?void 0:n.deserialize(i.substring(a+1));o.forEach((i=>i(e)))}}));return{send(s,n,...r){const t=`${s};${i[s].serialize(n)}`;e.send(t,...r)},on(e,i){var s;t.has(e)||t.set(e,[]),null==(s=t.get(e))||s.push(i)},off(e,i){var s,n;const r=null==(s=t.get(e))?void 0:s.indexOf(i);null!=r&&-1!=r&&(null==(n=t.get(e))||n.splice(r,1))},destroy:a||(()=>{})}}}const i={serialize:JSON.stringify,deserialize:JSON.parse},s={serialize:String,deserialize:Number},n={serialize:String,deserialize:Boolean},r={serialize:e=>e,deserialize:e=>e};export{r as a,n as b,i as j,s as n,e as s};
//# sourceMappingURL=valueConverters.45a54a63.js.map
