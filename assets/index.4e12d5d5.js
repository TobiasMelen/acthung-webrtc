var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,a=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&i(e,n,t[n]);if(r)for(var n of r(t))l.call(t,n)&&i(e,n,t[n]);return e},s=(e,r)=>t(e,n(r));import{d as c,l as u,y as d,R as m,s as h,A as b,z as f}from"./vendor.620d3140.js";let p;const y={},E=function(e,t){if(!t)return e();if(void 0===p){const e=document.createElement("link").relList;p=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in y)return;y[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":p,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))};function w(e,t){return c((()=>{const t=e.filter((e=>null!=e));return t.length<=1?t[0]:Object.assign({},...t)}),null!=t?t:e)}function g(e){const t=c((()=>Object.keys(e).map((e=>matchMedia(e)))),[e]),[n,r]=u(new Set(t.filter((e=>e.matches)).map((e=>e.media))));return d((()=>t.forEach((e=>e.addListener((e=>r((t=>((e.matches?t.add:t.delete).call(t,e.media),new Set(t))))))))),[e]),c((()=>{let t=[];return n.forEach((n=>{const r=e[n];null!=r&&t.push(r)})),t}),[n,e])}const v={width:"100vw",height:"100%",display:"flex",justifyContent:"space-around",alignItems:"center",overflow:"hidden"},O={"(orientation: landscape)":{flexDirection:"row",margin:"0 auto",overflow:"visible"},"(orientation: portrait)":{flexDirection:"column"}};function _(e){const t=g(O);return m.createElement("main",s(a({},e),{style:w([v,...t,e.style],[t,e.style])}))}const j={textAlign:"center",margin:"0 auto"};function L({children:e,style:t,startingEm:n=20}){const r=h(null),[o,l]=u(),i=b((()=>{!async function e(t){if(null==r.current)return;r.current.style.fontSize=`${t}em`,r.current.clientHeight<=document.body.scrollHeight&&r.current.clientWidth<=document.body.clientWidth?l(t):e(t-1)}(n)}),[r.current]);return d((()=>{let e;return window.addEventListener("resize",(()=>{window.clearTimeout(e),e=window.setTimeout(i,500)})),i(),()=>window.clearTimeout(e)}),[i,n]),m.createElement(_,null,m.createElement("h1",{style:s(a(a({},t),j),{visibility:null!=o?"visible":"hidden"}),ref:r},e))}const P=()=>location.hash.startsWith("#")?location.hash.substring(1):location.hash;function T(){const[e,t]=u(P());d((()=>{const e=()=>t(P());return addEventListener("hashchange",e),()=>removeEventListener("hashchange",e)}),[]);const[n,r]=u(null);return d((()=>{(async()=>{if(!window.RTCPeerConnection)return m.createElement(L,null,m.createElement("span",{style:{color:"red"}},"Sorry!"),m.createElement("br",null),"Your browser must support"," ",m.createElement("a",{href:"https://caniuse.com/?search=webrtc"},"WebRTC"));if(e.startsWith("lobby/")){const t=e.substring("lobby/".length),{default:n}=await E((()=>import("./Lobby.3a03ca79.js")),["/acthung-webrtc/assets/Lobby.3a03ca79.js","/acthung-webrtc/assets/vendor.620d3140.js","/acthung-webrtc/assets/useJsonWebsocket.736df161.js","/acthung-webrtc/assets/valueConverters.dc38a941.js","/acthung-webrtc/assets/collisionCanvasMessaging.aebe8dac.js"]);return m.createElement(n,{lobbyName:t})}if(location.hash.length>0){const{default:t}=await E((()=>import("./Player.15808673.js")),["/acthung-webrtc/assets/Player.15808673.js","/acthung-webrtc/assets/vendor.620d3140.js","/acthung-webrtc/assets/useJsonWebsocket.736df161.js","/acthung-webrtc/assets/valueConverters.dc38a941.js"]);return m.createElement(t,{lobbyName:e})}return E((()=>import("./Lobby.3a03ca79.js")),["/acthung-webrtc/assets/Lobby.3a03ca79.js","/acthung-webrtc/assets/vendor.620d3140.js","/acthung-webrtc/assets/useJsonWebsocket.736df161.js","/acthung-webrtc/assets/valueConverters.dc38a941.js","/acthung-webrtc/assets/collisionCanvasMessaging.aebe8dac.js"]),m.createElement(L,null,"New"," ",m.createElement("a",{href:`#lobby/${Math.random().toString(36).substring(8)}`},"Lobby"))})().then(r)}),[e]),n}f(m.createElement(T,null),document.getElementById("app-root"));export{L as B,_ as P,w as a,g as u};
//# sourceMappingURL=index.4e12d5d5.js.map
